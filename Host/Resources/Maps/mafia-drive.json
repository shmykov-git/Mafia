{
  "name": "Mafia Drive",
  "version": "1.0",
  "language": "en",
  "groups": [
    {
      "name": "Mafia",
      "roles": [
        {
          "name": "Don",
          "rank": 1,
          "actions": [
            {
              "conditions": [ "NotLocked" ],
              "operations": [ "Check" ]
            },
            {
              "byGroup": true,
              "conditions": [ "SeniorRank", "NotLocked" ],
              "operations": [ "Kill" ]
            }
          ]
        },
        {
          "name": "Mafia",
          "rank": 2,
          "isMultiple": true,
          "actions": [
            {
              "name": "Kill",
              "byGroup": true,
              "conditions": [ "SeniorRank", "NotLocked" ],
              "operations": [ "Kill" ]
            }
          ]
        }
      ]
    },
    {
      "name": "Maniac",
      "roles": [
        {
          "name": "Maniac",
          "actions": [
            {
              "conditions": [ "NotLocked" ],
              "operations": [ "Kill" ]
            }
          ]
        }
      ]
    },
    {
      "name": "Civilian",
      "roles": [
        {
          "name": "Civilian",
          "isMultiple": true
        }
      ],
      "groups": [
        {
          "name": "Putana",
          "roles": [
            {
              "name": "Putana",
              "actions": [
                {
                  "operations": [ "Lock" ]
                }
              ]
            }
          ]
        },
        {
          "name": "Commissar",
          "roles": [
            {
              "name": "Commissar",
              "actions": [
                {
                  "conditions": [ "NotLocked" ],
                  "operations": [ "Check" ]
                }
              ]
            }
          ]
        },
        {
          "name": "Doctor",
          "roles": [
            {
              "name": "Doctor",
              "actions": [
                {
                  "conditions": [ "NotLocked" ],
                  "operations": [ "Heal" ]
                }
              ]
            }
          ]
        },
        {
          "name": "Kamikaze",
          "roles": [
            {
              "name": "Kamikaze",
              "actions": [
                {
                  "conditions": [ "FirstDay" ],
                  "operations": [ "Hello" ]
                },
                {
                  "conditions": [ "Killed" ],
                  "operations": [ "Kill" ]
                }
              ]
            }
          ]
        },
        {
          "name": "Sapper",
          "roles": [
            {
              "name": "Sapper",
              "actions": [
                {
                  "conditions": [ "FirstDay" ],
                  "operations": [ "Hello" ]
                },
                {
                  "conditions": [ "Killed" ],
                  "operations": [ "RoundKill" ]
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "preset": {
    "singleRoles": [ "Don", "Maniac", "Commissar", "Doctor" ],
    "multipleRoles": [ "Mafia", "Civilian" ],
    "ratios": [ 1, 3.5 ]
  },
  "dayActions": [
    {
      "conditions": [ "FirstDay" ],
      "operations": [ "CityImmunity" ]
    },
    {
      "operations": [ "CityKill" ],
      "arguments": [ "Skippable" ]
    }
  ],
  "nightEvents": [
    "Putana",
    "Mafia",
    "Maniac",
    "Doctor",
    "Commissar",
    "Kamikaze",
    "Sapper"
  ],
  "description": [
    "https://mafdrive.ru/mafia_drive_rules/"
  ],
  "rules": [
    {
      "name": "ApplyFactKillsOnEachKillOnDeath",
      "description": "Apply fact kills after each shot for roles Kamikaze and Shahid",
      "accepted": true
    },
    {
      "name": "HealSingleKill",
      "description": "If a player is shot two or more times, he dies even if he was treated once",
      "accepted": false
    },
    {
      "name": "EvenDoctorDays",
      "description": "The doctor treats the same player only every other time",
      "values": [ "Doctor" ],
      "accepted": true
    },
    {
      "name": "DoctorOnceSelfHeal",
      "description": "The doctor heals himself only once per game",
      "values": [ "Doctor" ],
      "accepted": true
    },
    {
      "name": "KillOnDeathNoHeal",
      "description": "Cannot heal after night kills, so Kamikaze and Shahid ignore the doctor",
      "accepted": true
    },
    {
      "name": "MafiaWin",
      "description": "The Mafia wins if only Mafia group players and players with roles Commissar, Civilian are alive and the number of Mafiosi is greater than or equal to the number of civilians",
      "values": [ "Mafia", "Commissar, Civilian" ],
      "accepted": true
    },
    {
      "name": "ManiacWin",
      "description": "The Maniac wins if only players from the Maniac group and players with roles Commissar, Civilian are alive and the number of Maniacs is greater than or equal to the number of civilians",
      "values": [ "Maniac", "Commissar, Civilian" ],
      "accepted": true
    }
  ]
}