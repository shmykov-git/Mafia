{
  "name": "Mafia Drive",
  "version": "1.0",
  "language": "ru",
  "groups": [
    {
      "name": "Мафия",
      "roles": [
        {
          "name": "Дон",
          "rank": 1,
          "actions": [
            {
              "conditions": [ "NotLocked" ],
              "operations": [ "Check" ]
            },
            {
              "byGroup": true,
              "conditions": [ "SeniorRank", "NotLocked" ],
              "operations": [ "Kill" ]
            }
          ]
        },
        {
          "name": "Мафия",
          "rank": 2,
          "isMultiple": true,
          "actions": [
            {
              "name": "Kill",
              "byGroup": true,
              "conditions": [ "SeniorRank", "NotLocked" ],
              "operations": [ "Kill" ]
            }
          ]
        }
      ]
    },
    {
      "name": "Маньяк",
      "roles": [
        {
          "name": "Маньяк",
          "actions": [
            {
              "conditions": [ "NotLocked" ],
              "operations": [ "Kill" ]
            }
          ]
        }
      ]
    },
    {
      "name": "Мирные",
      "roles": [
        {
          "name": "Мирный",
          "isMultiple": true
        }
      ],
      "groups": [
        {
          "name": "Путана",
          "roles": [
            {
              "name": "Путана",
              "actions": [
                {
                  "operations": [ "Lock" ]
                }
              ]
            }
          ]
        },
        {
          "name": "Комиссар",
          "roles": [
            {
              "name": "Комиссар",
              "actions": [
                {
                  "conditions": [ "NotLocked" ],
                  "operations": [ "Check" ]
                }
              ]
            }
          ]
        },
        {
          "name": "Доктор",
          "roles": [
            {
              "name": "Доктор",
              "actions": [
                {
                  "conditions": [ "NotLocked" ],
                  "operations": [ "Heal" ]
                }
              ]
            }
          ]
        },
        {
          "name": "Камикадзе",
          "roles": [
            {
              "name": "Камикадзе",
              "actions": [
                {
                  "conditions": [ "FirstDay" ],
                  "operations": [ "Hello" ]
                },
                {
                  "conditions": [ "Killed" ],
                  "operations": [ "Kill" ]
                }
              ]
            }
          ]
        },
        {
          "name": "Сапер",
          "roles": [
            {
              "name": "Сапер",
              "actions": [
                {
                  "conditions": [ "FirstDay" ],
                  "operations": [ "Hello" ]
                },
                {
                  "conditions": [ "Killed" ],
                  "operations": [ "RoundKill" ]
                }
              ]
            }
          ]
        }
      ]
    }
  ],
  "preset": {
    "singleRoles": [ "Дон", "Маньяк", "Комиссар", "Доктор" ],
    "multipleRoles": [ "Мафия", "Мирный" ],
    "ratios": [ 1, 3.5 ]
  },
  "dayActions": [
    {
      "conditions": [ "FirstDay" ],
      "operations": [ "CityImmunity" ]
    },
    {
      "operations": [ "CityBan" ]
    },
    {
      "operations": [ "CityKill" ],
      "arguments": [ "Skippable" ]
    }
  ],
  "nightEvents": [
    "Путана",
    "Мафия",
    "Маньяк",
    "Доктор",
    "Комиссар",
    "Камикадзе",
    "Сапер"
  ],
  "description": [
    "Путана: играет за команду мирных жителей. Просыпается первой и выбирает того к кому она пойдет. После этого игрок не просыпается, если он активная карта и не умирает, если в него стреляли.",
    "Днем ведущий сообщает городу, что 'Доктор тут ни при чем', если Путана спасла игрока от гибели. Обычно учавствует не во всех играх, т.к. усложняет игровой процесс.",
    "Мафия: команда состоящая из Дона, и других членов мафиози. Когда наступает ночь и просыпается мафия, то Дон делает проверку в поисках комиссара, далее мафия выбирает стрелка после совещания с командой",
    "стрелок выполняет одно убийство за команду мафии.",
    "Маньяк: играет сам за себя и может одержать самостоятельную победу, просыпается ночью и выбирает себе жертву.",
    "Доктор: играет за команду мирных жителей. Просыпается ночью и лечит одного из игроков. Может вылечить себя один раз за всю игру. Не может лечить одного игрока две ночи подряд.",
    "Комиссар: играет за команду мирных жителей, его задача найти мафию. Просыпается ночью и делает одну проверку.",
    "Ведущий сообщает комиссару какой персонаж скрывается за проверяемым игроком: Дон, мафия, маньяк, доктор, мирный житель.",
    "Камикадзе: играет за команду мирных жителей, если его убивают днем или ночью, то он должен забрать кого-то с собой.",
    "Сапер: играет за команду мирных. Если сапера убивают, то его соседи уходят вместе с ним. Обычно карта используется, если в компании слишком много людей 20+, чтобы не затягивать игру.",
    "Игра заканчивается когда среди живых остаются члены одной из команд: Мафия, Маньяк, Мирные. При этом если победа может быть 'очевидно вычислена' математически за доминированием команды стрелюющих",
    "- мафии или маньяка, например 2 мафии и 2 мирных или маньяк и мирный, то победа присуждается команде стреляющих, например Мафии. При этом наличие активных карт из команды Мирных,",
    "может продолжить игру, т.к. к примеру доктор может спасти город от смерти, а значит уже не очевидно, кто победит.",
    "(https://mafdrive.ru/mafia_drive_rules/)"
  ],
  "rules": [
    {
      "name": "ApplyFactKillsOnEachKillOnDeath",
      "description": "Выполнять пересчет килов после каждого выстрела для персонажей Камикадзе и Сапер",
      "accepted": true
    },
    {
      "name": "HealSingleKill",
      "description": "Если в игрока стреляли два и более раза, то он умирает даже если его лечили один раз",
      "accepted": false
    },
    {
      "name": "EvenDoctorDays",
      "description": "Доктор лечит одного и того же игрока только через раз",
      "values": [ "Доктор" ],
      "accepted": true
    },
    {
      "name": "DoctorOnceSelfHeal",
      "description": "Доктор лечит себя один раз за игру",
      "values": [ "Доктор" ],
      "accepted": true
    },
    {
      "name": "KillOnDeathNoHeal",
      "description": "Смерти от камикадзе и шахида не лечатся",
      "accepted": true
    },
    {
      "name": "MafiaWin",
      "description": "Мафия побеждает, если живы только игроки группы Mafia и игроки с ролями: Комиссар, Мирный и количество мафиози больше или равно количеству мирных",
      "values": [ "Мафия", "Комиссар, Мирный" ],
      "accepted": true
    },
    {
      "name": "ManiacWin",
      "description": "Маньяк побеждает, если живы только игроки группы Maniac и игроки с ролями: Комиссар, Мирный и количество маньяков больше или равно количеству мирных",
      "values": [ "Маньяк", "Комиссар, Мирный" ],
      "accepted": true
    }
  ]
}